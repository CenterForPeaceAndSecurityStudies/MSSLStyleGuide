---
title: "02_Project_Setup"
author: "Thomas Scherer"
date: "01/10/2017"
output:
  html_notebook:
    toc: yes
    toc_float: yes
  html_document:
    toc: yes
editor_options:
  chunk_output_type: inline
---
<style>
    body .main-container {
        max-width: 100%;
    }
</style>


Once you have completed the [workstation setup](https://centerforpeaceandsecuritystudies.github.io/MSSLStyleGuide/Workstation_Setup.nb.html), you are ready to setup a project or join in on an existing project. 

# Create a project directory
In RStudio, in the top left select **File -> New Project** or in the top right select **Project: (None) -> New Project**. A New Project window should appear giving three options to set up a project. Select **Version Control** then select **Git**. 

For **Repository URL:** paste in the project's Git website (ex. https://github.com/centerforpeaceandsecuritystudies/MSSLStyleGuide). The **Project directory name:** will automatically fill in with the repository name (in example's case, "MSSLStyleGuide"). For **Create project as subdirectory of:**, select your dropbox folder "github_private" (so entry may become "~/Dropbox (rex)/github_private").

# Pull the existing project files


# Project directory organization


# Setting up a new project directory

In most cases you will be joining a package that is already setup, so after you pull all the folders and files will already be organized for you. 

If you are setting up the package for the first time, you can use the package **usethis** to make it easy.

1. Open RStudio create a new package

2. TBD

```{r}

install.packages("devtools")
devtools::install_github("r-lib/usethis")
library(usethis)
create_package()

```
You will be given an option to overwrite the existing package, don't do it.

3. A new project session will open in RStudio. In the new session run:


```{r}

# Modify the description ----------------------------------------------
install.packages("callr")
install.packages("testthat")

use_mit_license("My Name")
#> ✔ Setting License field in DESCRIPTION to 'MIT + file LICENSE'
#> ✔ Writing 'LICENSE.md'
#> ✔ Adding '^LICENSE\\.md$' to '.Rbuildignore'
#> ✔ Writing 'LICENSE'

use_package("MASS", "Suggests")
#> ✔ Adding 'MASS' to Suggests field in DESCRIPTION
#> ● Use `requireNamespace("MASS", quietly = TRUE)` to test if package is installed
#> ● Then use `MASS::fun()` to refer to functions.

use_dev_package("callr")
#> ✔ Adding 'callr' to Imports field in DESCRIPTION
#> ● Refer to functions with `callr::fun()`
#> ✔ Adding 'r-lib/callr' to DESCRIPTION Remotes

# Set up various packages ---------------------------------------------
use_roxygen_md()
#> ✔ Setting Roxygen field in DESCRIPTION to 'list(markdown = TRUE)'
#> ✔ Setting RoxygenNote field in DESCRIPTION to '6.0.1'
#> ● Re-document

use_rcpp()
#> ✔ Adding 'Rcpp' to LinkingTo field in DESCRIPTION
#> ✔ Adding 'Rcpp' to Imports field in DESCRIPTION
#> ✔ Creating 'src/'
#> ✔ Adding '*.o', '*.so', '*.dll' to 'src/.gitignore'
#> ● Include the following roxygen tags somewhere in your package
#>   #' @useDynLib mypkg, .registration = TRUE
#>   #' @importFrom Rcpp sourceCpp
#>   NULL
#> ● Run document()

use_revdep()
#> ✔ Creating 'revdep/'
#> ✔ Adding '^revdep$' to '.Rbuildignore'
#> ✔ Adding 'revdep/checks' to './.gitignore'
#> ✔ Adding 'revdep/library' to './.gitignore'
#> ✔ Adding 'revdep/checks.noindex' to './.gitignore'
#> ✔ Adding 'revdep/library.noindex' to './.gitignore'
#> ✔ Adding 'revdep/data.sqlite' to './.gitignore'
#> ✔ Writing 'revdep/email.yml'
#> ● Run checks with `revdepcheck::revdep_check(num_workers = 4)`

# Set up other files -------------------------------------------------
use_readme_md()
#> ✔ Writing 'README.md'
#> ● Edit 'README.md'

use_news_md()
#> ✔ Writing 'NEWS.md'
#> ● Edit 'NEWS.md'

use_test("my-test")
#> ✔ Adding 'testthat' to Suggests field in DESCRIPTION
#> ✔ Creating 'tests/testthat/'
#> ✔ Writing 'tests/testthat.R'
#> ✔ Writing 'tests/testthat/test-my-test.R'
#> ● Edit 'tests/testthat/test-my-test.R'

x <- 1
y <- 2
use_data(x, y)
#> ✔ Creating 'data/'
#> ✔ Saving x to data/x.rda
#> ✔ Saving y to data/y.rda

#use_git()
#> ✔ Initialising Git repo
#> ✔ Adding '.Rhistory', '.RData', '.Rproj.user' to './.gitignore'
#> ✔ Adding files and committing

dir.create(file.path(getwd(), "docs"))
dir.create(file.path(getwd(), "inst"))
dir.create(file.path(paste0(getwd(),"/inst"), "extdata"))
dir.create(file.path(getwd(), "paper"))
dir.create(file.path(paste0(getwd(),"/paper"), "figures"))

```




